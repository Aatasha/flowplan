@import "tailwindcss";
@import "@xyflow/react/dist/style.css";

:root {
  --fp-bg: #ffffff;
  --fp-bg-secondary: #f8f9fa;
  --fp-text: #1a1a2e;
  --fp-text-secondary: #6c757d;
  --fp-border: #dee2e6;
  --fp-accent: #4361ee;
  --fp-accent-hover: #3a56d4;

  /* Node colors */
  --fp-node-task: #e3f2fd;
  --fp-node-task-border: #1976d2;
  --fp-node-decision: #fff3e0;
  --fp-node-decision-border: #f57c00;
  --fp-node-note: #fffde7;
  --fp-node-note-border: #fbc02d;
  --fp-node-phase: #f3e5f5;
  --fp-node-phase-border: #7b1fa2;
  --fp-node-start: #e8f5e9;
  --fp-node-start-border: #2e7d32;
  --fp-node-end: #ffebee;
  --fp-node-end-border: #c62828;
  --fp-node-milestone: #fce4ec;
  --fp-node-milestone-border: #ad1457;
  --fp-node-file: #e0f2f1;
  --fp-node-file-border: #00695c;
  --fp-node-api: #e8eaf6;
  --fp-node-api-border: #283593;
  --fp-node-db: #efebe9;
  --fp-node-db-border: #4e342e;
  --fp-node-test: #e0f7fa;
  --fp-node-test-border: #00838f;
  --fp-node-mcp: #ede7f6;
  --fp-node-mcp-border: #4527a0;
  --fp-node-human: #fff8e1;
  --fp-node-human-border: #ff8f00;
  --fp-node-fork: #eceff1;
  --fp-node-fork-border: #455a64;

  /* Status colors */
  --fp-status-pending: #9e9e9e;
  --fp-status-progress: #1976d2;
  --fp-status-completed: #2e7d32;
  --fp-status-blocked: #c62828;

  /* Edge colors */
  --fp-edge-default: #9e9e9e;
  --fp-edge-success: #2e7d32;
  --fp-edge-failure: #c62828;
  --fp-edge-conditional: #f57c00;

  /* Annotation colors */
  --fp-annotation-pen: #1a1a2e;
  --fp-annotation-sticky: #fffde7;
  --fp-annotation-arrow: #4361ee;
}

[data-theme="dark"] {
  --fp-bg: #1a1a2e;
  --fp-bg-secondary: #16213e;
  --fp-text: #e8e8e8;
  --fp-text-secondary: #a0a0a0;
  --fp-border: #2d2d44;
  --fp-accent: #6c8aff;
  --fp-accent-hover: #5a78f0;

  --fp-node-task: #1e3a5f;
  --fp-node-task-border: #64b5f6;
  --fp-node-decision: #3e2723;
  --fp-node-decision-border: #ffb74d;
  --fp-node-note: #3e3a00;
  --fp-node-note-border: #fff176;
  --fp-node-phase: #2c1538;
  --fp-node-phase-border: #ce93d8;
  --fp-node-start: #1b3a1e;
  --fp-node-start-border: #66bb6a;
  --fp-node-end: #3e1a1a;
  --fp-node-end-border: #ef5350;
  --fp-node-milestone: #3e1a2a;
  --fp-node-milestone-border: #f06292;
  --fp-node-file: #1a3a38;
  --fp-node-file-border: #4db6ac;
  --fp-node-api: #1a1f3e;
  --fp-node-api-border: #7986cb;
  --fp-node-db: #2e221a;
  --fp-node-db-border: #8d6e63;
  --fp-node-test: #1a3a3e;
  --fp-node-test-border: #4dd0e1;
  --fp-node-mcp: #251a3e;
  --fp-node-mcp-border: #b39ddb;
  --fp-node-human: #3e3200;
  --fp-node-human-border: #ffca28;
  --fp-node-fork: #263238;
  --fp-node-fork-border: #90a4ae;

  --fp-status-pending: #757575;
  --fp-status-progress: #64b5f6;
  --fp-status-completed: #66bb6a;
  --fp-status-blocked: #ef5350;

  --fp-edge-default: #757575;
  --fp-edge-success: #66bb6a;
  --fp-edge-failure: #ef5350;
  --fp-edge-conditional: #ffb74d;

  --fp-annotation-pen: #e8e8e8;
  --fp-annotation-sticky: #3e3a00;
  --fp-annotation-arrow: #6c8aff;
}

body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: var(--fp-bg);
  color: var(--fp-text);
}

.react-flow__node {
  font-size: 12px;
}

.react-flow__attribution {
  display: none;
}

/* Edge connection handles â€” larger on hover */
.react-flow__handle {
  width: 8px;
  height: 8px;
  background: var(--fp-border);
  border: 2px solid var(--fp-bg);
  transition: all 0.15s ease;
}

.react-flow__node:hover .react-flow__handle {
  width: 12px;
  height: 12px;
  background: var(--fp-accent);
  box-shadow: 0 0 6px var(--fp-accent);
}

/* Context menu hover states */
.fp-ctx-item > div:hover {
  background: var(--fp-bg-secondary);
}

.fp-ctx-submenu {
  display: none;
}

.fp-ctx-item:hover > .fp-ctx-submenu {
  display: block;
}
